\chapter{Spezifikation der funktionellen Anforderungen}
\section{Produktbeschreibung}
Das Literaturverwaltungssystem LiMan unterst"utzt Autoren bei
ihrer Recherche durch ein intuitives Suchsystem. "Uber eine einfach
gehaltene Oberfl"ache werden alle Nutzungs- und Administrationsvorg"ange
abgewickelt. Durch das Websystem ist der Nutzer unabh"angig von Betriebssystem 
und Position.
\subsubsection*{Nutzungsumgebung}
Das System wird auf einem Webserver im Intranet oder 
Internet installiert, w"ahrend die Nutzer von ihren PCs mit
einem Webbrowser darauf zugreifen.
\subsubsection*{Nutzergruppe}
Es gibt 3 Nutzerebenen. Leser k"onnen suchen und recherchieren,
registrierte Nutzer d"urfen B"ucher hinzufuegen und kommentieren, und Administratoren
d"urfen ausserdem noch Nutzer verwalten.


\section{Funktionelle Anforderungen}
\subsection{Umgebungsmodell}

\subsubsection{Ereignistabelle}
%wenn die Tabellen zu lang werden -> longtable
N = Nutzer, M = registriertes Mitglied, A = Administrator \\
M kann zusätzlich zu seinen, alle Ereignisse von N auslösen. A kann ebenso alle Ereignisse von M und N auslösen.

\begin{longtable}{|c|p{9.0em}|p{10.5em}|l|}
\hline
Nr & Ereignis & Datenfluß im System & Antwort des Systems \\
\hline\hline
\endhead

1. & N sucht Buch & Suchbegriff & Suchtreffer \\\hline
2. & N wählt Buch & Buch\_Nr & Buch\_Info \\\hline
3. & N exportiert Buch & Exportanfrage &  BibTeX-Datei \\\hline
4. & M legt Buch an & Buchdaten & Bestätigung\_Buchanlegen \\\hline
5. & M ändert Buch & Buch & Bestätigung\_Buchändern\\\hline
6. & M löscht Buch & Buch\_Nr & Bestätigung\_Buchlöschen \\\hline
7. & M legt Kommentar an & Kommentardaten & Bestätigung\_Kommentaranlegen \\\hline
8. & M ändert Kommentar & Kommentar & Bestätigung\_Kommentarändern \\\hline
9. & M löscht Kommentar & Kommentar\_Nr & Bestätigung\_Kommentarlöschen \\\hline
10.& M importiert BibTeX & BibTeX-Datei & Bestätigung\_BibTeXImport \\\hline
11.& A legt Mitglied an & Mitgliedsdaten & Bestätigung\_Mitgliedanlegen \\\hline
12.& A ändert Mitglied & Mitglied & Bestätigung\_Mitgliedändern \\\hline
13.& A löscht Mitglied & Mitglied\_Nr & Bestätigung\_Mitgliedlöschen \\\hline
14.& A ruft Mitglieder ab & - & Mitgliederliste \\\hline
\end{longtable}

\newpage % Viele Bilder so skaliert, dass sie ordentlich auf A4-Seiten passen
\subsubsection{Kontextdiagramm}

%\includegraphics[scale=0.5]{kontextdiagramm}
\includegraphics[scale=0.75]{kontextdiagramm}

\subsection{Verhaltensmodell}
\subsubsection{Grobes Verhaltensmodell (vergröbertes primäres Verhaltensmodell)}
\includegraphics[scale=0.70]{grobes_verhaltensmodell}

\subsubsection{Primäres Verhaltensmodell}
\paragraph{Teilmodell BibTeX}
\includegraphics[scale=1.0]{teilmodell_bibtex}

\paragraph{Teilmodell Buchinformation}
\includegraphics[scale=1.0]{teilmodell_buchinformation}

\paragraph{Teilmodell Buchverwaltung}
\includegraphics[scale=0.93]{teilmodell_buchverwaltung}

\paragraph{Teilmodell Kommentarverwaltung}
\includegraphics[scale=0.93]{teilmodell_kommentarverwaltung}

\paragraph{Teilmodell Mitgliederverwaltung}
\includegraphics[scale=0.85]{teilmodell_mitgliederverwaltung}
\newpage

\subsubsection{Datenkatalog}
\begin{longtable}{|l|p{8.5cm}|}
\hline
Element & Strukturbeschreibung \\
\hline\hline
\endhead

\emph{Buecher} & \{Buch\} \\
\hline
Buch & @Buch\_Nr + Art + Titel + Autor + ISBN + Jahr + Beschreibung + Ort + Stichworte \\
\hline
Buch\_Nr & gZahl *6stellig, 000001 $\leq$ Literatur\_Nr $\leq$ 999999* \\
\hline
Art & [``Buch'' | ``Artikel'' | ``Handbuch'' | ``Diplomarbeit'' | ``Sonstiges''] \textbf{BITTE UM VORSCHLÄGE/ÄNDERUNG}\\
\hline
Titel & Zeichenkette40 \\
\hline
Autor & Zeichenkette40 \\
\hline
ISBN & gZahl *1stellig* + '-' + gZahl *4stellig* + '-' + gZahl *4stellig* + '-' + gZahl *1stellig* \textbf{DAS STIMMT LAUT WIKIPEDIA NICHT}\\
\hline
Jahr & gZahl *4stellig* \\
\hline
Beschreibung & Zeichenkette250 \\
\hline
Ort & Zeichenkette40 \\
\hline
Stichworte & Zeichenkette100 \\
\hline\hline

\emph{Kommentare} & \{Kommentar\} \\
\hline
Kommentar & @Kommentar\_Nr + Kommentartext \\
\hline
Kommentar\_Nr & gZahl *6stellig, 000001 $\leq$ Kommentar\_Nr $\leq$ 999999* \\
\hline
Kommentartext & Zeichenkette400 \\
\hline\hline

\emph{Mitglieder} & \{Mitglied\} \\
\hline
Mitglied  & @Mitglieds\_Nr  + Name + Login + Passwort + Rechte\\
\hline
Mitglieds\_Nr & gZahl *6stellig, 000001 $\leq$ Benutzer\_Nr $\leq$ 999999* \\ 
\hline
Name & <Vor>Name + <Nach>Name \\
\hline
Login & Zeichenkette12 \\
\hline
Passwort & Zeichenkette12 \\
\hline
Rechte & ["Benutzer" $\mid "$Administrator"] \\
\hline\hline

Mitgliedsdaten & Name + Login + Passwort + Rechte \\
\hline
Buchdaten & Art + Titel + Autor + ISBN + Jahr + Beschreibung + Ort + Stichworte \\
\hline
Kommentardaten & Kommentartext \\
\hline
BibTeX-Datei & *Datei im Bibtexformat* \\
\hline
Suchbegriff & [Zeichenkette100 | (Art) + (Titel) + (Autor) + (ISBN) + (Jahr) + (Beschreibung) + (Ort) + (Stichworte)] *Mindestens ein optionales Feld muss angegeben sein* \\
\hline
Exportanfrage & Buch\_Nr \textbf{BITTE UM VORSCHLÄGE/ÄNDERUNG} \\
\hline\hline

Bestätigung\_BibTeXImport & Buch\_Nr + Zeichenkette "Importieren vorgenommen" \\
\hline
Bestätigung\_Buchanlegen & Buch\_Nr + Zeichenkette "Anlegen vorgenommen" \\
\hline
Bestätigung\_Buchändern & Buch\_Nr + Zeichenkette "Änderung vorgenommen" \\
\hline
Bestätigung\_Buchlöschen & Buch\_Nr + Zeichenkette "Löschen vorgenommen" \\
\hline
Bestätigung\_Kommentaranlegen & Kommentar\_Nr + Zeichenkette "Anlegen vorgenommen" \\
\hline
Bestätigung\_Kommentarändern & Kommentar\_Nr + Zeichenkette "Änderung vorgenommen" \\
\hline
Bestätigung\_Kommentarlöschen & Kommentar\_Nr + Zeichenkette "Löschen vorgenommen" \\
\hline
Bestätigung\_Mitgliedanlegen & Mitglieds\_Nr + Zeichenkette "Anlegen vorgenommen" \\
\hline
Bestätigung\_Mitgliedändern & Mitglieds\_Nr + Zeichenkette "Änderung vorgenommen" \\
\hline
Bestätigung\_Mitgliedlöschen & Mitglieds\_Nr + Zeichenkette "Löschen vorgenommen" \\
\hline
Buch\_Info & Buch + Kommentare \\
\hline
Suchtreffer & \{Buch\_Nr + Titel\} \textbf{NICHT NOCH MEHR?}\\
\hline
Mitgliederliste & \{Mitglieds\_Nr + Name\}\\
\hline
\end{longtable}

\subsubsection{Beziehungen zwischen Speichern (ERD)}
TODO:
%\includegraphics[scale=0.5]{erd}

\subsubsection{Prozessspezifikation}
\input{pspec_bibtex}
\input{pspec_buchinformation}
\input{pspec_buchverwaltung}
\input{pspec_kommentarverwaltung}
\input{pspec_mitgliederverwaltung}

\subsection{Definition der Nutzerschnittstelle}
TODO (Generell, Fargestaltung)

\subsubsection{Ein- und Ausgabegeräte}
F"ur die Eingabe wird ein vernetzter PC mit Tastatur und Maus vorrausgesetzt.\\
Die Ausgabe erfolgt stets "uber einen Farbmonitor.

\paragraph{Legende zur Layoutdarstellung}
TODO Siehe Beispielbeleg S. 11

\paragraph{Grundfenster}
TODO

\paragraph{Menüs}
TODO

\paragraph{Fenster irgendwas}
TODO
